{% extends "dashboard/base_admin.html" %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4 text-center">
     Add Users to Group: <span class="text-primary">{{ group.name }}</span>
  </h2>

  <form method="post">
    {% csrf_token %}
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title mb-3">Select Users:</h5>

        {% if users %}
          <div class="list-group">
            {% for user in users %}
              <label class="list-group-item d-flex align-items-center">
                <input 
                  type="checkbox" 
                  name="users" 
                  value="{{ user.id }}" 
                  class="form-check-input me-2"
                >
                <div>
                  <strong>{{ user.username }}</strong><br>
                  <small class="text-muted">{{ user.email }}</small>
                </div>
              </label>
            {% endfor %}
          </div>
        {% else %}
          <p class="text-muted">No users available to add.</p>
        {% endif %}
      </div>
    </div>

    <div class="d-flex justify-content-between mt-3">
      <a href="{% url 'group_list' %}" class="btn btn-secondary">⬅ Back</a>
      <button type="submit" class="btn btn-success">✅ Add Selected Users</button>
    </div>
  </form>
</div>
{% endblock %}
